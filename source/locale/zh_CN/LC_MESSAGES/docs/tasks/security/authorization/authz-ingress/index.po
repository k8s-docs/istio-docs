# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2020, BandCamp
# This file is distributed under the same license as the istio-docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2020.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: istio-docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2020-03-22 10:08+0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.7.0\n"

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:1
msgid ""
"This task shows you how to enforce access control on an Istio ingress "
"gateway using an authorization policy."
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:4
msgid ""
"An Istio authorization policy supports IP-based allow lists or deny lists"
" as well as the attribute-based allow lists or deny lists previously "
"provided by Mixer policy. The Mixer policy is deprecated in 1.5 and not "
"recommended for production use."
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:10
msgid "Before you begin"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:12
msgid "Before you begin this task, do the following:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:14
msgid ""
"Read the `Authorization conceptual documentation "
"</docs/concepts/security/#authorization>`_."
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:17
msgid ""
"Install Istio using the `Istio installation guide "
"</docs/setup/install/istioctl/>`_."
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:20
msgid ""
"Deploy a workload, ``httpbin`` in a namespace, for example ``foo``, and "
"expose it through the Istio ingress gateway with this command:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:26
msgid ""
"<(istioctl kube-inject -f @samples/httpbin/httpbin.yaml@) -n foo $ "
"kubectl apply -f <(istioctl kube-inject -f @samples/httpbin/httpbin-"
"gateway.yaml@) -n foo"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:30
msgid ""
"See `Source IP for Services with ``Type=NodePort`` "
"<https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-"
"services-with-type-nodeport>`_ for more information. Update the ingress "
"gateway to set ``externalTrafficPolicy: local`` to preserve the original "
"client source IP on the ingress gateway using the following command:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:39
msgid "istio-system -p ‘{“spec”:{“externalTrafficPolicy”:“Local”}}’"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:41
msgid ""
"Verify that the ``httpbin`` workload and ingress gateway are working as "
"expected using this command:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:47
msgid ""
"service istio-ingressgateway -o "
"jsonpath=‘{.status.loadBalancer.ingress[0].ip}’) $ curl "
"$INGRESS_HOST/headers -s -o /dev/null -w “%{http_code}:raw-latex:`\\n`” "
"200"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:52
msgid ""
"Verify the output of the following command to ensure the ingress gateway "
"receives the original client source IP address, which will be used in the"
" authorization policy:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:59
msgid "“origin” \\| cut -d’\"’ -f 4) && echo $CLIENT_IP 105.133.10.12"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:63
msgid "If you don’t see the expected output, retry after a few"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:64
msgid ""
"seconds. Caching and propagation overhead can cause a delay. {{< /warning"
" >}}"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:68
msgid "IP-based allow list and deny list"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:70
msgid ""
"The following command creates the authorization policy, ``ingress-"
"policy``, for the Istio ingress gateway. The following policy sets the "
"``action`` field to ``ALLOW`` to allow the IP addresses specified in the "
"``ipBlocks`` to access the ingress gateway. IP addresses not in the list "
"will be denied. The ``ipBlocks`` supports both single IP address and CIDR"
" notation. Create the authorization policy:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:81
#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:101
msgid ""
"security.istio.io/v1beta1 kind: AuthorizationPolicy metadata: name: "
"ingress-policy namespace: istio-system spec: selector: matchLabels: app: "
"istio-ingressgateway action: ALLOW rules:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:85
#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:105
#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:128
msgid "from:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:87
msgid "source: ipBlocks: [“1.2.3.4”, “5.6.7.0/24”] EOF"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:89
#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:132
msgid "Verify that a request to the ingress gateway is denied:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:94
#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:137
msgid "“%{http_code}:raw-latex:`\\n`” 403"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:96
msgid "Update the ``ingress-policy`` to include your client IP address:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:107
msgid "source: ipBlocks: [“1.2.3.4”, “5.6.7.0/24”, “$CLIENT_IP”] EOF"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:110
msgid "Verify that a request to the ingress gateway is allowed:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:115
msgid "“%{http_code}:raw-latex:`\\n`” 200"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:117
msgid ""
"Update the ``ingress-policy`` authorization policy to set the ``action`` "
"key to ``DENY`` so that the IP addresses specified in the ``ipBlocks`` "
"are not allowed to access the ingress gateway:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:124
msgid ""
"security.istio.io/v1beta1 kind: AuthorizationPolicy metadata: name: "
"ingress-policy namespace: istio-system spec: selector: matchLabels: app: "
"istio-ingressgateway action: DENY rules:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:130
msgid "source: ipBlocks: [“$CLIENT_IP”] EOF"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:139
msgid ""
"You could use an online proxy service to access the ingress gateway using"
" a different client IP to verify the request is allowed."
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:143
msgid "Clean up"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:145
msgid "Remove the namespace ``foo``:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:151
msgid "Remove the authorization policy:"
msgstr ""

#: ../../source/docs/tasks/security/authorization/authz-ingress/index.rst:156
msgid "-n istio-system"
msgstr ""

